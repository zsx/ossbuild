<?xml version="1.0" encoding="UTF-8"?>

<?include $(var.InstallRoot)\Properties.wxi ?>

<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">

	<Module Id="Dependencies" Language="$(var.DEFAULT_LANGUAGE)" Version="$(var.OSSBUILD_VERSION)">

		<Package Id="$(var.GUID_X86_MSM_LIBRARIES_PACKAGE)" Manufacturer="$(var.MANUFACTURER)" InstallerVersion="$(var.MINIMAL_INSTALLER_VERSION)" />

		<?define Files="
			lib$(var.PREFIX)gstapp-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstaudio-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstbase-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstcdda-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstcontroller-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstdataprotocol-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstfarsight-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstfft-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstgl-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstinterfaces-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstnet-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstnetbuffer-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstpbutils-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstphotography-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstreamer-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstriff-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstrtp-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstrtsp-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstsdp-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gsttag-$(var.GST_VERSION).dll;
			lib$(var.PREFIX)gstvideo-$(var.GST_VERSION).dll
		" ?>

		<Directory Id="TARGETDIR" Name="SourceDir">
			<Directory Id="MergeRedirectFolder">

				<?foreach file in $(var.Files) ?>
					<Component Id="$(ossbuild.createValidID($(var.file)))" Guid="$(ossbuild.stringToGUID($(ossbuild.trim($(var.file)))))">
						<File Source="$(var.GstBinDir)\$(ossbuild.trim($(var.file)))" />
					</Component>
				<?endforeach ?>

			</Directory>
		</Directory>

		<?undef Files ?>

	</Module>

</Wix>
