<?xml version="1.0" encoding="UTF-8"?>

<?include $(var.InstallRoot)\Properties.wxi ?>

<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">

	<Module Id="Dependencies" Language="$(var.DEFAULT_LANGUAGE)" Version="$(var.OSSBUILD_VERSION)">

		<Package Id="$(var.GUID_X86_MSM_PLUGINS_GOOD_PACKAGE)" Manufacturer="$(var.MANUFACTURER)" InstallerVersion="$(var.MINIMAL_INSTALLER_VERSION)" />

		<?define Files="
			libgstrtp_good.dll;
			libgstrtsp_good.dll;
			
			libgstalaw.dll;
			libgstalpha.dll;
			libgstapetag.dll;
			libgstaudiofx.dll;
			libgstauparse.dll;
			libgstautodetect.dll;
			libgstavi.dll;
			libgstcairo.dll;
			libgstcutter.dll;
			libgstdebug.dll;
			libgstdeinterlace.dll;
			libgstdirectsound.dll;
			libgsteffectv.dll;
			libgstequalizer.dll;
			libgstflv.dll;
			libgstflx.dll;
			libgsticydemux.dll;
			libgstid3demux.dll;
			libgstinterleave.dll;
			libgstjpeg.dll;
			libgstlevel.dll;
			libgstmatroska.dll;
			libgstmonoscope.dll;
			libgstmulaw.dll;
			libgstmultifile.dll;
			libgstmultipart.dll;
			libgstpng.dll;
			libgstqtdemux.dll;
			libgstreplaygain.dll;
			libgstrtpmanager.dll;
			libgstsmpte.dll;
			libgstsoup.dll;
			libgstspectrum.dll;
			libgstudp.dll;
			libgstvideobox.dll;
			libgstvideocrop.dll;
			libgstvideofilterbalance.dll;
			libgstvideofilterflip.dll;
			libgstvideofiltergamma.dll;
			libgstvideomixer.dll;
			libgstwaveenc.dll;
			libgstwaveform.dll;
			libgstwavpack.dll;
			libgstwavparse.dll;
			libgsty4m.dll
		" ?>

		<Directory Id="TARGETDIR" Name="SourceDir">
			<Directory Id="MergeRedirectFolder">
						
				<?foreach file in $(var.Files) ?>
					<Component Id="$(ossbuild.createValidID($(var.file)))" Guid="$(ossbuild.stringToGUID($(ossbuild.trim($(var.file)))))">
						<File Source="$(var.GstPluginDir)\$(ossbuild.trim($(var.file)))" />
					</Component>
				<?endforeach ?>
						
			</Directory>
		</Directory>

		<?undef Files ?>

	</Module>

</Wix>
