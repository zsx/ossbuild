<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>appsink</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="GStreamer Base Plugins 0.10 Library Reference Manual">
<link rel="up" href="gstreamer-app.html" title="App Library">
<link rel="prev" href="gst-plugins-base-libs-appsrc.html" title="appsrc">
<link rel="next" href="gstreamer-audio.html" title="Audio Library">
<meta name="generator" content="GTK-Doc V1.11 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="part" href="gstreamer-plugins-base.html" title="Part I. GStreamer Base Plugins Libraries">
<link rel="chapter" href="gstreamer-app.html" title="App Library">
<link rel="chapter" href="gstreamer-audio.html" title="Audio Library">
<link rel="chapter" href="gstreamer-cdda.html" title="CDDA Library">
<link rel="chapter" href="gstreamer-ffft.html" title="FFT Library">
<link rel="chapter" href="gstreamer-floatcast.html" title="FloatCast Library">
<link rel="chapter" href="gstreamer-interfaces.html" title="Interfaces Library">
<link rel="chapter" href="gstreamer-netbuffer.html" title="Network Buffer Library">
<link rel="chapter" href="gstreamer-riff.html" title="Riff Media Library">
<link rel="chapter" href="gstreamer-rtp.html" title="RTP Library">
<link rel="chapter" href="gstreamer-rtsp.html" title="RTSP Library">
<link rel="chapter" href="gstreamer-sdp.html" title="SDP Library">
<link rel="chapter" href="gstreamer-tag.html" title="Tag Support Library">
<link rel="chapter" href="gstreamer-base-utils.html" title="Base Utils Library">
<link rel="chapter" href="gstreamer-video.html" title="Video Library">
<link rel="part" href="gstreamer-libs-hierarchy.html" title="Part II. Object Hierarchy">
<link rel="index" href="api-index.html" title="Index">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="gst-plugins-base-libs-appsrc.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="gstreamer-app.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GStreamer Base Plugins 0.10 Library Reference Manual</th>
<td><a accesskey="n" href="gstreamer-audio.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#gst-plugins-base-libs-appsink.synopsis" class="shortcut">Top</a>
                 | 
                <a href="#gst-plugins-base-libs-appsink.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry" lang="en">
<a name="gst-plugins-base-libs-appsink"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="gst-plugins-base-libs-appsink.top_of_page"></a>appsink</span></h2>
<p>appsink</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="gst-plugins-base-libs-appsink.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;gst/app/gstappsink.h&gt;

                    <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a>;
void                <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-set-caps" title="gst_app_sink_set_caps ()">gst_app_sink_set_caps</a>               (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         const <a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstCaps.html#GstCaps"
>GstCaps</a> *caps);
<a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstCaps.html#GstCaps"
>GstCaps</a> *           <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-get-caps" title="gst_app_sink_get_caps ()">gst_app_sink_get_caps</a>               (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-is-eos" title="gst_app_sink_is_eos ()">gst_app_sink_is_eos</a>                 (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);
void                <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-set-emit-signals" title="gst_app_sink_set_emit_signals ()">gst_app_sink_set_emit_signals</a>       (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> emit);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-get-emit-signals" title="gst_app_sink_get_emit_signals ()">gst_app_sink_get_emit_signals</a>       (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);
void                <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-set-max-buffers" title="gst_app_sink_set_max_buffers ()">gst_app_sink_set_max_buffers</a>        (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> max);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a>               <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-get-max-buffers" title="gst_app_sink_get_max_buffers ()">gst_app_sink_get_max_buffers</a>        (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);
void                <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-set-drop" title="gst_app_sink_set_drop ()">gst_app_sink_set_drop</a>               (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> drop);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-get-drop" title="gst_app_sink_get_drop ()">gst_app_sink_get_drop</a>               (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);
<a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstBuffer.html#GstBuffer"
>GstBuffer</a> *         <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-pull-preroll" title="gst_app_sink_pull_preroll ()">gst_app_sink_pull_preroll</a>           (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);
<a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstBuffer.html#GstBuffer"
>GstBuffer</a> *         <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-pull-buffer" title="gst_app_sink_pull_buffer ()">gst_app_sink_pull_buffer</a>            (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);
                    <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSinkCallbacks" title="GstAppSinkCallbacks">GstAppSinkCallbacks</a>;
void                <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-set-callbacks" title="gst_app_sink_set_callbacks ()">gst_app_sink_set_callbacks</a>          (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSinkCallbacks" title="GstAppSinkCallbacks">GstAppSinkCallbacks</a> *callbacks,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> notify);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="gst-plugins-base-libs-appsink.description"></a><h2>Description</h2>
<p>
Appsink is a sink plugin that supports many different methods for making
the application get a handle on the GStreamer data in a pipeline. Unlike
most GStreamer elements, Appsink provides external API functions.
</p>
<p>
appsink can be used by linking to the gstappsink.h header file to access the
methods or by using the appsink action signals and properties.
</p>
<p>
The normal way of retrieving buffers from appsink is by using the
<a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-pull-buffer" title="gst_app_sink_pull_buffer ()"><code class="function">gst_app_sink_pull_buffer()</code></a> and <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-pull-preroll" title="gst_app_sink_pull_preroll ()"><code class="function">gst_app_sink_pull_preroll()</code></a> methods.
These methods block until a buffer becomes available in the sink or when the
sink is shut down or reaches EOS.
</p>
<p>
Appsink will internally use a queue to collect buffers from the streaming
thread. If the application is not pulling buffers fast enough, this queue
will consume a lot of memory over time. The "max-buffers" property can be
used to limit the queue size. The "drop" property controls whether the
streaming thread blocks or if older buffers are dropped when the maximum
queue size is reached. Note that blocking the streaming thread can negatively
affect real-time performance and should be avoided.
</p>
<p>
If a blocking behaviour is not desirable, setting the "emit-signals" property
to <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE--CAPS"
><code class="literal">TRUE</code></a> will make appsink emit the "new-buffer" and "new-preroll" signals
when a buffer can be pulled without blocking.
</p>
<p>
The "caps" property on appsink can be used to control the formats that
appsink can receive. This property can contain non-fixed caps, the format of
the pulled buffers can be obtained by getting the buffer caps.
</p>
<p>
If one of the pull-preroll or pull-buffer methods return <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a>, the appsink
is stopped or in the EOS state. You can check for the EOS state with the
"eos" property or with the <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-is-eos" title="gst_app_sink_is_eos ()"><code class="function">gst_app_sink_is_eos()</code></a> method.
</p>
<p>
The eos signal can also be used to be informed when the EOS state is reached
to avoid polling.
</p>
<p>
Last reviewed on 2008-12-17 (0.10.22)</p>
<p>
</p>
</div>
<div class="refsect1" lang="en">
<a name="gst-plugins-base-libs-appsink.details"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="GstAppSink"></a><h3>GstAppSink</h3>
<pre class="programlisting">typedef struct {
  GstBaseSink basesink;
} GstAppSink;
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-set-caps"></a><h3>gst_app_sink_set_caps ()</h3>
<pre class="programlisting">void                gst_app_sink_set_caps               (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         const <a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstCaps.html#GstCaps"
>GstCaps</a> *caps);</pre>
<p>
Set the capabilities on the appsink element.  This function takes
a copy of the caps structure. After calling this method, the sink will only
accept caps that match <em class="parameter"><code>caps</code></em>. If <em class="parameter"><code>caps</code></em> is non-fixed, you must check the caps
on the buffers to get the actual used caps.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>caps</code></em> :</span></p></td>
<td> caps to set
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-get-caps"></a><h3>gst_app_sink_get_caps ()</h3>
<pre class="programlisting"><a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstCaps.html#GstCaps"
>GstCaps</a> *           gst_app_sink_get_caps               (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);</pre>
<p>
Get the configured caps on <em class="parameter"><code>appsink</code></em>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the <a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstCaps.html#GstCaps"
><span class="type">GstCaps</span></a> accepted by the sink. <a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstCaps.html#gst-caps-unref"
><code class="function">gst_caps_unref()</code></a> after usage.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-is-eos"></a><h3>gst_app_sink_is_eos ()</h3>
<pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            gst_app_sink_is_eos                 (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);</pre>
<p>
Check if <em class="parameter"><code>appsink</code></em> is EOS, which is when no more buffers can be pulled because
an EOS event was received.
</p>
<p>
This function also returns <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE--CAPS"
><code class="literal">TRUE</code></a> when the appsink is not in the PAUSED or
PLAYING state.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE--CAPS"
><code class="literal">TRUE</code></a> if no more buffers can be pulled and the appsink is EOS.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-set-emit-signals"></a><h3>gst_app_sink_set_emit_signals ()</h3>
<pre class="programlisting">void                gst_app_sink_set_emit_signals       (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> emit);</pre>
<p>
Make appsink emit the "new-preroll" and "new-buffer" signals. This option is
by default disabled because signal emission is expensive and unneeded when
the application prefers to operate in pull mode.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>emit</code></em> :</span></p></td>
<td> the new state
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-get-emit-signals"></a><h3>gst_app_sink_get_emit_signals ()</h3>
<pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            gst_app_sink_get_emit_signals       (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);</pre>
<p>
Check if appsink will emit the "new-preroll" and "new-buffer" signals.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE--CAPS"
><code class="literal">TRUE</code></a> if <em class="parameter"><code>appsink</code></em> is emiting the "new-preroll" and "new-buffer"
signals.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-set-max-buffers"></a><h3>gst_app_sink_set_max_buffers ()</h3>
<pre class="programlisting">void                gst_app_sink_set_max_buffers        (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> max);</pre>
<p>
Set the maximum amount of buffers that can be queued in <em class="parameter"><code>appsink</code></em>. After this
amount of buffers are queued in appsink, any more buffers will block upstream
elements until a buffer is pulled from <em class="parameter"><code>appsink</code></em>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>max</code></em> :</span></p></td>
<td> the maximum number of buffers to queue
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-get-max-buffers"></a><h3>gst_app_sink_get_max_buffers ()</h3>
<pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a>               gst_app_sink_get_max_buffers        (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);</pre>
<p>
Get the maximum amount of buffers that can be queued in <em class="parameter"><code>appsink</code></em>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> The maximum amount of buffers that can be queued.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-set-drop"></a><h3>gst_app_sink_set_drop ()</h3>
<pre class="programlisting">void                gst_app_sink_set_drop               (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> drop);</pre>
<p>
Instruct <em class="parameter"><code>appsink</code></em> to drop old buffers when the maximum amount of queued
buffers is reached.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>drop</code></em> :</span></p></td>
<td> the new state
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-get-drop"></a><h3>gst_app_sink_get_drop ()</h3>
<pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            gst_app_sink_get_drop               (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);</pre>
<p>
Check if <em class="parameter"><code>appsink</code></em> will drop old buffers when the maximum amount of queued
buffers is reached.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE--CAPS"
><code class="literal">TRUE</code></a> if <em class="parameter"><code>appsink</code></em> is dropping old buffers when the queue is
filled.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-pull-preroll"></a><h3>gst_app_sink_pull_preroll ()</h3>
<pre class="programlisting"><a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstBuffer.html#GstBuffer"
>GstBuffer</a> *         gst_app_sink_pull_preroll           (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);</pre>
<p>
Get the last preroll buffer in <em class="parameter"><code>appsink</code></em>. This was the buffer that caused the
appsink to preroll in the PAUSED state. This buffer can be pulled many times
and remains available to the application even after EOS.
</p>
<p>
This function is typically used when dealing with a pipeline in the PAUSED
state. Calling this function after doing a seek will give the buffer right
after the seek position.
</p>
<p>
Note that the preroll buffer will also be returned as the first buffer
when calling <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-pull-buffer" title="gst_app_sink_pull_buffer ()"><code class="function">gst_app_sink_pull_buffer()</code></a>.
</p>
<p>
If an EOS event was received before any buffers, this function returns
<a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a>. Use <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-is-eos" title="gst_app_sink_is_eos ()"><code class="function">gst_app_sink_is_eos()</code></a> to check for the EOS condition. 
</p>
<p>
This function blocks until a preroll buffer or EOS is received or the appsink
element is set to the READY/NULL state.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstBuffer.html#GstBuffer"
><span class="type">GstBuffer</span></a> or NULL when the appsink is stopped or EOS.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-pull-buffer"></a><h3>gst_app_sink_pull_buffer ()</h3>
<pre class="programlisting"><a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstBuffer.html#GstBuffer"
>GstBuffer</a> *         gst_app_sink_pull_buffer            (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink);</pre>
<p>
This function blocks until a buffer or EOS becomes available or the appsink
element is set to the READY/NULL state. 
</p>
<p>
This function will only return buffers when the appsink is in the PLAYING
state. All rendered buffers will be put in a queue so that the application
can pull buffers at its own rate. Note that when the application does not
pull buffers fast enough, the queued buffers could consume a lot of memory,
especially when dealing with raw video frames.
</p>
<p>
If an EOS event was received before any buffers, this function returns
<a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a>. Use <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-is-eos" title="gst_app_sink_is_eos ()"><code class="function">gst_app_sink_is_eos()</code></a> to check for the EOS condition.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a
href="/usr/share/gtk-doc/html/gstreamer-0.10/gstreamer-GstBuffer.html#GstBuffer"
><span class="type">GstBuffer</span></a> or NULL when the appsink is stopped or EOS.

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.22</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="GstAppSinkCallbacks"></a><h3>GstAppSinkCallbacks</h3>
<pre class="programlisting">typedef struct {
  void          (*eos)              (GstAppSink *sink, gpointer user_data);
  GstFlowReturn (*new_preroll)      (GstAppSink *sink, gpointer user_data);
  GstFlowReturn (*new_buffer)       (GstAppSink *sink, gpointer user_data);
  GstFlowReturn (*new_buffer_list)  (GstAppSink *sink, gpointer user_data);
} GstAppSinkCallbacks;
</pre>
<p>
A set of callbacks that can be installed on the appsink with
<a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-set-callbacks" title="gst_app_sink_set_callbacks ()"><code class="function">gst_app_sink_set_callbacks()</code></a>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="structfield"><code>eos</code></em> ()</span></p></td>
<td> Called when the end-of-stream has been reached. This callback
      is called from the steaming thread.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>new_preroll</code></em> ()</span></p></td>
<td> Called when a new preroll buffer is available. 
      This callback is called from the steaming thread.
      The new preroll buffer can be retrieved with
      <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-pull-preroll" title="gst_app_sink_pull_preroll ()"><code class="function">gst_app_sink_pull_preroll()</code></a> either from this callback
      or from any other thread.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>new_buffer</code></em> ()</span></p></td>
<td> Called when a new buffer is available. 
      This callback is called from the steaming thread.
      The new buffer can be retrieved with
      <a class="link" href="gst-plugins-base-libs-appsink.html#gst-app-sink-pull-buffer" title="gst_app_sink_pull_buffer ()"><code class="function">gst_app_sink_pull_buffer()</code></a> either from this callback
      or from any other thread.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>new_buffer_list</code></em> ()</span></p></td>
<td> Called when a new bufferlist is available. 
      This callback is called from the steaming thread.
      The new bufferlist can be retrieved with
      <code class="function">gst_app_sink_pull_buffer_list()</code> either from this callback
      or from any other thread.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.23</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="gst-app-sink-set-callbacks"></a><h3>gst_app_sink_set_callbacks ()</h3>
<pre class="programlisting">void                gst_app_sink_set_callbacks          (<a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink">GstAppSink</a> *appsink,
                                                         <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSinkCallbacks" title="GstAppSinkCallbacks">GstAppSinkCallbacks</a> *callbacks,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a> user_data,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Datasets.html#GDestroyNotify"
>GDestroyNotify</a> notify);</pre>
<p>
Set callbacks which will be executed for each new preroll, new buffer and eos.
This is an alternative to using the signals, it has lower overhead and is thus
less expensive, but also less flexible.
</p>
<p>
If callbacks are installed, no signals will be emited for performance
reasons.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>appsink</code></em> :</span></p></td>
<td> a <a class="link" href="gst-plugins-base-libs-appsink.html#GstAppSink" title="GstAppSink"><span class="type">GstAppSink</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callbacks</code></em> :</span></p></td>
<td> the callbacks
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> a user_data argument for the callbacks
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>notify</code></em> :</span></p></td>
<td> a destroy notify function
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10.23</p>
</div>
</div>
<div class="refsect1" lang="en">
<a name="gst-plugins-base-libs-appsink.see-also"></a><h2>See Also</h2>
#GstBaseSink, appsrc
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.11</div>
</body>
</html>
